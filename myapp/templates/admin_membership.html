<!DOCTYPE html>
<html>
  <head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'base.css' %}">
    <title>Admin Membership Management</title>
  </head>
  <body>
    <div class="main-container" style="background: #f1e3e3; height: 2000px; position: absolute; overflow: hidden; width: 100%;">

      <div class="header" style="background: #6b4848; width: 100%; height: 106px; position: absolute; left: 0px; top: 0px;"></div>
      
      <div class="nav-links" style="display: flex; justify-content: flex-end; align-items: center; height: 106px; padding-right: 40px; position: relative; z-index: 1;">
        <div class="nav-link" style="margin-left: 20px;">
          <a href="" class="link" style="color: #ffffff; font-family: 'Inter-Bold', sans-serif; font-size: 12px; font-weight: 700;">Dashboard</a> <!-- Add dashboard link when you finish the HTML dashboard page -->
        </div>
        <div class="nav-link" style="margin-left: 20px;">
          <a href="" class="link" style="color: #ffffff; font-family: 'Inter-Bold', sans-serif; font-size: 12px; font-weight: 700;">Events</a> <!-- Add events link when you finish the HTML events page -->
        </div>
        <div class="nav-link" style="margin-left: 20px;">
          <a href="" class="link" style="color: #ffffff; font-family: 'Inter-Bold', sans-serif; font-size: 12px; font-weight: 700;">Community </a><!--add Community link when you finish HTML community page -->
        </div>
        <div class="nav-link" style="margin-left: 20px;">
          <a href="" class="link" style="color: #ffffff; font-family: 'Inter-Bold', sans-serif; font-size: 12px; font-weight: 700;">Profile</a> <!-- Add profile link when you finish the HTML profile page -->
        </div>
      </div>
      
      <!-- Logo image -->
      <img class="logo" style="width: 158.74px; height: 106px; position: absolute; left: 0px; top: 0px; object-fit: cover;" src="{% static 'img/logo.png'%}" />
      
      <div class="container">
        <h2>Membership Management</h2>
        <div class="filter-section">
            <form method="get" action="">
                <label for="membershipType">Filter by Membership Type:</label>
                <select id="membershipType" name="membershipType">
                    <option value="all" {% if request.GET.membershipType == "all" %}selected{% endif %}>All</option>
                    <option value="Individual Membership" {% if request.GET.membershipType == "Individual Membership" %}selected{% endif %}>Individual Membership</option>
                    <option value="Community Membership" {% if request.GET.membershipType == "Community Membership" %}selected{% endif %}>Community Membership</option>
                    <option value="Workspace Membership" {% if request.GET.membershipType == "Workspace Membership" %}selected{% endif %}>Workspace Membership</option>
                    <option value="Organisational Membership" {% if request.GET.membershipType == "Organisational Membership" %}selected{% endif %}>Organisational Membership</option>
                </select>
                <button type="submit" class="btn btn-primary">Filter</button>
            </form>
        </div>
        <div class="search-section">
            <form method="get" action="">
                <label for="searchMember">Search Member:</label>
                <input type="text" id="searchMember" name="searchMember" placeholder="Enter member name or email" value="{{ request.GET.searchMember }}">
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
        </div>
        <div class="report-section">
            <h3>Engagement Reports</h3>
            <div id="reportContent">
            </div>
        </div>
        <div class="member-list-section">
            <h3>Member List</h3>
            <table border="1" style="width: 100%; text-align: left; border-collapse: collapse;">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Gender</th>
                        <th>Date of Birth</th>
                        <th>Address</th>
                        <th>Interests</th>
                        <th>Date Joined</th>
                        <th>Membership Type</th>
                    </tr>
                </thead>
                <tbody>
                    {% for member in members %}
                    <tr>
                        <td>{{ member.first_name }}</td>
                        <td>{{ member.last_name }}</td>
                        <td>{{ member.username }}</td>
                        <td>{{ member.email }}</td>
                        <td>{{ member.phone_number }}</td>
                        <td>{{ member.gender }}</td>
                        <td>{{ member.date_of_birth }}</td>
                        <td>{{ member.address }}</td>
                        <td>{{ member.interests }}</td>
                        <td>{{ member.date_joined }}</td>
                        <td>{{ member.membership_type }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <script src="{% static 'js/admin_membership.js' %}"></script>
  </body>
</html>